<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Session Six: Arguments, Comprehensions, Intro to Object Oriented Programming &mdash; Code Fellows F2 Python, March-April 2015</title>
    
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Code Fellows F2 Python, March-April 2015" href="index.html" />
    <link rel="next" title="Session Seven (Tentative): Testing, More OO" href="session07.html" />
    <link rel="prev" title="Session Five: Dictionaries, Files, Exceptions" href="session05.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body>
<div class="header">
  <div class="logo">
    <a href="index.html">
      <img class="logo" src="_static/cf_logo.png" alt="Logo"/>
      <p>Code Fellows</p>
    </a>
  </div>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="session07.html" title="Session Seven (Tentative): Testing, More OO"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="session05.html" title="Session Five: Dictionaries, Files, Exceptions"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">F2 Python</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="session-six-arguments-comprehensions-intro-to-object-oriented-programming">
<h1>Session Six: Arguments, Comprehensions, Intro to Object Oriented Programming<a class="headerlink" href="#session-six-arguments-comprehensions-intro-to-object-oriented-programming" title="Permalink to this headline">¶</a></h1>
<div class="section" id="advanced-argument-passing">
<h2>Advanced Argument Passing<a class="headerlink" href="#advanced-argument-passing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="keyword-arguments">
<h3>Keyword arguments<a class="headerlink" href="#keyword-arguments" title="Permalink to this headline">¶</a></h3>
<p>When defining a function, you can specify only what you need &#8211; in any order</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [150]: </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="gp">In [151]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="gp">   .....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="gp">   .....:</span>
<span class="gp">In [152]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1 2 3</span>
<span class="gp">In [153]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1 0 3</span>
<span class="gp">In [154]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 2 3</span>
</pre></div>
</div>
<p>A Common Idiom:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">do_something_different</span>
    <span class="n">go_on_here</span>
</pre></div>
</div>
<p>Can set defaults to variables</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [156]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">In [157]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="p">):</span>
<span class="go">    print(u&quot;x is: %s&quot; % x)</span>
<span class="gp">   .....:</span>
<span class="gp">In [158]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
</pre></div>
</div>
<p>Defaults are evaluated when the function is defined</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [156]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">In [157]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="p">):</span>
<span class="go">    print(u&quot;x is: %s&quot; % x)</span>
<span class="gp">   .....:</span>
<span class="gp">In [158]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
<span class="gp">In [159]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">In [160]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
</pre></div>
</div>
</div>
<div class="section" id="function-arguments-in-variables">
<h3>Function arguments in variables<a class="headerlink" href="#function-arguments-in-variables" title="Permalink to this headline">¶</a></h3>
<p>function arguments are really just:</p>
<div class="build container">
<ul class="simple">
<li>a tuple (positional arguments)</li>
<li>a dict (keyword arguments)</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
   <span class="o">...</span><span class="p">:</span>     <span class="n">msg</span> <span class="o">=</span> <span class="s">u&quot;position: </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s"> -- shape: </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">&quot;</span>
   <span class="o">...</span><span class="p">:</span>     <span class="k">print</span><span class="p">(</span><span class="n">msg</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
   <span class="o">...</span><span class="p">:</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">size</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;h&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">position</span><span class="p">,</span> <span class="o">**</span><span class="n">size</span><span class="p">)</span>
<span class="n">position</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">--</span> <span class="n">shape</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="function-parameters-in-variables">
<h3>Function parameters in variables<a class="headerlink" href="#function-parameters-in-variables" title="Permalink to this headline">¶</a></h3>
<p>You can also pull the parameters out in the function as a tuple and a dict:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [10]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="s">u&quot;the positional arguments are: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="s">u&quot;the optional arguments are: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">kwargs</span><span class="p">))</span>
<span class="gp">   ....:</span>
<span class="gp">In [11]: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">this</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">that</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="go">the positional arguments are: (2, 3)</span>
<span class="go">the optional arguments are: {&#39;this&#39;: 5, &#39;that&#39;: 7}</span>
</pre></div>
</div>
</div>
<div class="section" id="passing-a-dict-to-the-string-format-method">
<h3>Passing a dict to the <tt class="docutils literal"><span class="pre">string.format()</span></tt> method<a class="headerlink" href="#passing-a-dict-to-the-string-format-method" title="Permalink to this headline">¶</a></h3>
<p>Now that you know that keyword args are really a dict, you can do this nifty
trick:</p>
<div class="build container">
<div class="container">
<p>The <tt class="docutils literal"><span class="pre">format</span></tt> method takes keyword arguments:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [24]: </span><span class="s">u&quot;My name is {first} {last}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">last</span><span class="o">=</span><span class="s">u&quot;Ewing&quot;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="s">u&quot;Cris&quot;</span><span class="p">)</span>
<span class="gh">Out[24]: </span><span class="go">u&#39;My name is Cris Ewing&#39;</span>
</pre></div>
</div>
</div>
<div class="container">
<p>Build a dict of the keys and values:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">u&quot;last&quot;</span><span class="p">:</span> <span class="s">u&quot;Ewing&quot;</span><span class="p">,</span> <span class="s">u&quot;first&quot;</span><span class="p">:</span> <span class="s">u&quot;Cris&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="container">
<p>And pass to <tt class="docutils literal"><span class="pre">format()``with</span> <span class="pre">``**</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [26]: </span><span class="s">u&quot;My name is {first} {last}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
<span class="gh">Out[26]: </span><span class="go">u&#39;My name is Paul Pham&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="list-and-dict-comprehensions">
<h2>List and Dict Comprehensions<a class="headerlink" href="#list-and-dict-comprehensions" title="Permalink to this headline">¶</a></h2>
<div class="left container">
<p>A bit of functional programming</p>
<div class="build container">
<p>consider this common <tt class="docutils literal"><span class="pre">for</span></tt> loop structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>This can be expressed with a single line using a &#8220;list comprehension&#8221;</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">expression</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-comprehensions">
<h3>List Comprehensions<a class="headerlink" href="#list-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>What about nested for loops?</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">var2</span> <span class="ow">in</span> <span class="n">a_list2</span><span class="p">:</span>
        <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>Can also be expressed in one line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span>  <span class="p">[</span><span class="n">exp</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">for</span> <span class="n">var2</span> <span class="ow">in</span> <span class="n">a_list2</span><span class="p">]</span>
</pre></div>
</div>
<p>You get the &#8220;outer product&#8221;, i.e. all combinations.</p>
<p>(demo)</p>
</div>
<p>But usually you at least have a conditional in the loop:</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">something_is_true</span><span class="p">:</span>
        <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>You can add a conditional to the comprehension:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">expr</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">if</span> <span class="n">something_is_true</span><span class="p">]</span>
</pre></div>
</div>
<p>(demo)</p>
</div>
<p>Examples:</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [341]: </span><span class="p">[</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gh">Out[341]: </span><span class="go">[0, 1, 4]</span>

<span class="gp">In [342]: </span><span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
<span class="gh">Out[342]: </span><span class="go">[5, 6, 6, 7, 7, 8]</span>

<span class="gp">In [343]: </span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">]</span>
<span class="gh">Out[343]: </span><span class="go">[0, 4, 8]</span>
</pre></div>
</div>
<p>Remember this from last week?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">__builtin__</span><span class="p">)</span> <span class="k">if</span> <span class="s">&quot;Error&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">]</span>
<span class="p">[</span><span class="s">&#39;ArithmeticError&#39;</span><span class="p">,</span>
 <span class="s">&#39;AssertionError&#39;</span><span class="p">,</span>
 <span class="s">&#39;AttributeError&#39;</span><span class="p">,</span>
 <span class="o">....</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="set-comprehensions">
<h3>Set Comprehensions<a class="headerlink" href="#set-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>You can do it with sets, too:</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">value</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">}</span>
</pre></div>
</div>
<p>the same as this <tt class="docutils literal"><span class="pre">for</span></tt> loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">:</span>
    <span class="n">new_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Example: finding all the vowels in a string...</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [19]: </span><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;a not very long string&quot;</span>

<span class="gp">In [20]: </span><span class="n">vowels</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s">&#39;aeiou&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="p">{</span> <span class="n">let</span> <span class="k">for</span> <span class="n">let</span> <span class="ow">in</span> <span class="n">s</span> <span class="k">if</span> <span class="n">let</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="p">}</span>
<span class="gh">Out[21]: </span><span class="go">{&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;}</span>
</pre></div>
</div>
<p>Side note: why did I do <tt class="docutils literal"><span class="pre">set('aeiou')</span></tt> rather than just <cite>aeiou</cite>?</p>
</div>
</div>
<div class="section" id="dict-comprehensions">
<h3>Dict Comprehensions<a class="headerlink" href="#dict-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>Also with dictionaries</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="n">key</span><span class="p">:</span><span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">}</span>
</pre></div>
</div>
<p>the same as this <tt class="docutils literal"><span class="pre">for</span></tt> loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">:</span>
    <span class="n">new_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
</div>
<p>Example</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [22]: </span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="s">&quot;this_</span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)}</span>
<span class="gh">Out[22]: </span><span class="go">{0: &#39;this_0&#39;, 1: &#39;this_1&#39;, 2: &#39;this_2&#39;,</span>
<span class="go">          3: &#39;this_3&#39;, 4: &#39;this_4&#39;}</span>
</pre></div>
</div>
<p>Can you do the same thing with the <tt class="docutils literal"><span class="pre">dict()</span></tt> constructor?</p>
</div>
<p>Classes, instances, attributes, and subclassing</p>
</div>
<div class="section" id="questions">
<h3>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>How will this prepare me for the dev accelerator?</li>
<li>What about independent projects for my software portfolio?</li>
<li>Do we have to worry about proper Git / GitHub technique?</li>
</ul>
</div>
<div class="section" id="resources">
<h3>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h3>
<p>Beginner-Friendly Textbooks</p>
<ul class="simple">
<li><a class="reference external" href="http://interactivepython.org/runestone/static/Python-F2/index.html">Interactive Python</a></li>
<li><a class="reference external" href="http://www.diveintopython.net/toc/index.html">Dive Into Python</a></li>
<li><a class="reference external" href="http://learnpythonthehardway.org/book/">Learn Python the Hard Way</a></li>
</ul>
<p>Portfolio Projects, Building Community</p>
<p><a class="reference external" href="http://newcoder.io/">http://newcoder.io/</a></p>
<p>Calling Twitter APIs (thanks &#64;mhazani!)</p>
<p>Preparation for Dev Accelerator Code Challenge</p>
<p>Django Resources</p>
<ul class="simple">
<li><a class="reference external" href="http://www.tangowithdjango.com">Tango With Django</a></li>
<li><a class="reference external" href="https://docs.djangoproject.com/en/1.7/intro/tutorial01/">The official Django tutorial</a></li>
</ul>
</div>
</div>
<div class="section" id="change-in-classroom">
<h2>Change in Classroom<a class="headerlink" href="#change-in-classroom" title="Permalink to this headline">¶</a></h2>
<p>For our last week we will be in The Hardy (the East classroom), at the opposite
end of the basement.</p>
<p>Check in attendance for today!</p>
<p>Please fill out survey responses.</p>
</div>
<div class="section" id="object-oriented-programming">
<h2>Object Oriented Programming<a class="headerlink" href="#object-oriented-programming" title="Permalink to this headline">¶</a></h2>
<div class="left container">
<p>Object-oriented programming narrows the &#8220;semantic gap&#8221;.</p>
<p>You can model real world objects with software objects.</p>
<p>We&#8217;ll talk more about Python implementation than OO design/strengths/weaknesses</p>
</div>
<div class="section" id="more-detailed-reading">
<h3>More Detailed Reading:<a class="headerlink" href="#more-detailed-reading" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.diveintopython.net/object_oriented_framework/defining_classes.html">Dive Into Python, 5.3-5.5 on Classes</a>
<a href="#id1"><span class="problematic" id="id2">`</span></a>Learn Python the Hard Way &lt;</p>
</div>
<div class="section" id="id3">
<h3>Object Oriented Programming<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Is Python a &#8220;True&#8221; Object-Oriented Language?</p>
<p>(Doesn&#8217;t support full encapsulation, doesn&#8217;t <em>require</em>
classes,  etc...)</p>
<p class="center large">I don&#8217;t Care!</p>
<div class="build container">
<p>Good software design is about code re-use, clean separation of concerns,
refactorability, testability, etc...</p>
<dl class="docutils">
<dt>OO can help with all that, but:</dt>
<dd><ul class="first last simple">
<li>It doesn&#8217;t guarantee it</li>
<li>It can get in the way</li>
</ul>
</dd>
</dl>
</div>
<p>Python is a Dynamic Language</p>
<div class="build container">
<p>That clashes with &#8220;pure&#8221; OO</p>
<p>Think in terms of what makes sense for your project &#8211; not any one paradigm
of software design.</p>
</div>
<p>So what is &#8220;object oriented programming&#8221;?</p>
<blockquote>
<div>Objects can be thought of as wrapping their data
within a set of functions designed to ensure that
the data are used appropriately, and to assist in
that use</div></blockquote>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Object-oriented_programming">http://en.wikipedia.org/wiki/Object-oriented_programming</a></p>
<p>Even simpler:</p>
<div class="build container">
<p>&#8220;Objects are data and the functions that act on them in one place.&#8221;</p>
<p>This is the core of &#8220;encapsulation&#8221;</p>
<p>In Python: just another namespace.</p>
</div>
<p>The OO buzzwords:</p>
<div class="build container">
<ul class="build simple">
<li>data abstraction</li>
<li>encapsulation</li>
<li>modularity</li>
<li>polymorphism</li>
<li>inheritance</li>
</ul>
<p>Python does all of this, though it doesn&#8217;t enforce them.</p>
</div>
<div class="build container">
<p>&#8220;OO languages&#8221; give you some handy tools to make it easier (and safer):</p>
<ul class="build simple">
<li>polymorphism (duck typing gives you this anyway)</li>
<li>inheritance</li>
</ul>
</div>
<p>OO has been the dominant model for the past couple decades</p>
<div class="build container">
<p>You will need to use it:</p>
<ul class="simple">
<li>It&#8217;s a good idea for a lot of problems</li>
<li>You&#8217;ll need to work with OO packages</li>
</ul>
<p>(Even a fair bit of the standard library is Object Oriented)</p>
</div>
<dl class="build docutils">
<dt>class</dt>
<dd>A category of objects: particular data and behavior: A &#8220;circle&#8221; (same as a
type in python)</dd>
<dt>instance</dt>
<dd>A particular object of a class: a specific circle</dd>
<dt>object</dt>
<dd>The general case of a instance &#8211; really any value (in Python anyway)</dd>
<dt>attribute</dt>
<dd>Something that belongs to an object (or class): generally thought of as a
variable, or single object, as opposed to a ...</dd>
<dt>method</dt>
<dd>A function that belongs to a class</dd>
</dl>
<p class="center large">Note that in python, functions are first class objects, so a method <em>is</em> an
attribute</p>
</div>
</div>
<div class="section" id="python-classes">
<h2>Python Classes<a class="headerlink" href="#python-classes" title="Permalink to this headline">¶</a></h2>
<div class="left container">
<p>The <tt class="docutils literal"><span class="pre">class</span></tt>  statement</p>
<div class="build container">
<p><tt class="docutils literal"><span class="pre">class</span></tt>  creates a new type object:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [4]: </span><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="k">pass</span>
<span class="gp">   ...:</span>
<span class="gp">In [5]: </span><span class="nb">type</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gh">Out[5]: </span><span class="go">type</span>
</pre></div>
</div>
<p>A class is a type &#8211; interesting!</p>
<p>It is created when the statement is run &#8211; much like <tt class="docutils literal"><span class="pre">def</span></tt></p>
<p>You don&#8217;t <em>have</em> to subclass from <tt class="docutils literal"><span class="pre">object</span></tt>, but you <em>should</em></p>
<p>(note on &#8220;new style&#8221; classes)</p>
</div>
</div>
<div class="section" id="id4">
<h3>Python Classes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>About the simplest class you can write</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span>
<span class="go">&lt;class __main__.Point at 0x2bf928&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span><span class="o">.</span><span class="n">x</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
<span class="go">&lt;__main__.Point instance at 0x2de918&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">x</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Basic Structure of a real class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c"># everything defined in here is in the class namespace</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="c"># everything attached to self is in the instance namespace</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

<span class="c">## create an instance of the class</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="c">## access the attributes</span>
<span class="k">print</span> <span class="s">&quot;p.x is:&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">x</span>
<span class="k">print</span> <span class="s">&quot;p.y is:&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
<p>see: <tt class="docutils literal"><span class="pre">Examples/Session06/simple_classes.py</span></tt></p>
<p>The <tt class="docutils literal"><span class="pre">__init__</span></tt>  special method is called when a new instance of a class is
created.</p>
<div class="build container">
<p>You can use it to do any set-up you need</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</pre></div>
</div>
<p>It gets the arguments passed when you <em>call</em> the class object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>What is this <tt class="docutils literal"><span class="pre">self</span></tt> thing?</p>
<div class="build container">
<p>The instance of the class is passed as the first parameter for every method.</p>
<p>Using <tt class="docutils literal"><span class="pre">self</span></tt> is only a convention &#8211; but you DO want to use it.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">a_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Does this look familiar from C-style procedural programming?</p>
</div>
<p>Anything assigned to a <tt class="docutils literal"><span class="pre">self.&lt;xyz&gt;</span></tt>  attribute is kept in the <em>instance</em>
name space &#8211; <tt class="docutils literal"><span class="pre">self</span></tt> <em>is</em> the instance.</p>
<div class="build container">
<p>That&#8217;s where all the instance-specific data is.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">color</span><span class="o">=</span> <span class="s">&quot;red&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<p>Anything assigned in the class scope is a class attribute</p>
<div class="build container">
<p>Every <em>instance</em> of the class shares the same one.</p>
<p>Note: the methods defined by <tt class="docutils literal"><span class="pre">def</span></tt> are class attributes as well.</p>
<div class="container">
<p>The class is one namespace, the instance is another.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">size</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">color</span><span class="o">=</span> <span class="s">&quot;red&quot;</span>
<span class="o">...</span>
    <span class="k">def</span> <span class="nf">get_color</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">p3</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>
 <span class="s">&#39;red&#39;</span>
</pre></div>
</div>
</div>
<p>Class attributes are accessed with <tt class="docutils literal"><span class="pre">self</span></tt>  also.</p>
</div>
<p>Typical methods:</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Circle</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;red&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diameter</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="n">diameter</span>

    <span class="k">def</span> <span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">*</span> <span class="n">factor</span>
</pre></div>
</div>
<p>Methods take some parameters, manipulate the attributes in <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>They may or may not return something useful.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="o">...</span>
    <span class="k">def</span> <span class="nf">grow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">diameter</span> <span class="o">*</span> <span class="n">factor</span>
<span class="o">...</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">205</span><span class="p">]:</span> <span class="n">C</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">206</span><span class="p">]:</span> <span class="n">C</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="ne">TypeError</span><span class="p">:</span> <span class="n">grow</span><span class="p">()</span> <span class="n">takes</span> <span class="n">at</span> <span class="n">most</span> <span class="mi">2</span> <span class="n">arguments</span> <span class="p">(</span><span class="mi">3</span> <span class="n">given</span><span class="p">)</span>
</pre></div>
</div>
<div class="build container">
<p>Huh???? I only gave 2</p>
<p><tt class="docutils literal"><span class="pre">self</span></tt> is implicitly passed in for you by python.</p>
<p>(demo of bound vs. unbound methods)</p>
</div>
<p>Using <tt class="docutils literal"><span class="pre">self</span></tt> explicitly like this can seem a bit confusing</p>
<div class="build container">
<p>But like most of Python&#8217;s quirks, there&#8217;s a rationale behind it</p>
<p>Our BDFL has made the decision that <tt class="docutils literal"><span class="pre">self</span></tt> will stay, and written
extensively about why:</p>
<p><a class="reference external" href="http://neopythonic.blogspot.com/2008/10/why-explicit-self-has-to-stay.html">http://neopythonic.blogspot.com/2008/10/why-explicit-self-has-to-stay.html</a></p>
</div>
</div>
<div class="section" id="lab-homework">
<h3>LAB / Homework<a class="headerlink" href="#lab-homework" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s say you need to render some html..</p>
<div class="build container">
<p>The goal is to build a set of classes that render an html page.</p>
<p><tt class="docutils literal"><span class="pre">Examples/Session06/sample_html.html</span></tt></p>
<p>We&#8217;ll start with a single class, then add some sub-classes to specialize the behavior</p>
<p>Details in:</p>
<p><a class="reference internal" href="homework/html_builder.html#homework-html-renderer"><em>HTML Renderer Homework Assignment</em></a></p>
<p>Let&#8217;s see if we can do step 1. in class...</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Session Six: Arguments, Comprehensions, Intro to Object Oriented Programming</a><ul>
<li><a class="reference internal" href="#advanced-argument-passing">Advanced Argument Passing</a><ul>
<li><a class="reference internal" href="#keyword-arguments">Keyword arguments</a></li>
<li><a class="reference internal" href="#function-arguments-in-variables">Function arguments in variables</a></li>
<li><a class="reference internal" href="#function-parameters-in-variables">Function parameters in variables</a></li>
<li><a class="reference internal" href="#passing-a-dict-to-the-string-format-method">Passing a dict to the <tt class="docutils literal"><span class="pre">string.format()</span></tt> method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#list-and-dict-comprehensions">List and Dict Comprehensions</a><ul>
<li><a class="reference internal" href="#list-comprehensions">List Comprehensions</a></li>
<li><a class="reference internal" href="#set-comprehensions">Set Comprehensions</a></li>
<li><a class="reference internal" href="#dict-comprehensions">Dict Comprehensions</a></li>
<li><a class="reference internal" href="#questions">Questions</a></li>
<li><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#change-in-classroom">Change in Classroom</a></li>
<li><a class="reference internal" href="#object-oriented-programming">Object Oriented Programming</a><ul>
<li><a class="reference internal" href="#more-detailed-reading">More Detailed Reading:</a></li>
<li><a class="reference internal" href="#id3">Object Oriented Programming</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-classes">Python Classes</a><ul>
<li><a class="reference internal" href="#id4">Python Classes</a></li>
<li><a class="reference internal" href="#lab-homework">LAB / Homework</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="session05.html"
                        title="previous chapter">Session Five: Dictionaries, Files, Exceptions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="session07.html"
                        title="next chapter">Session Seven (Tentative): Testing, More OO</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="session07.html" title="Session Seven (Tentative): Testing, More OO"
             >next</a> |</li>
        <li class="right" >
          <a href="session05.html" title="Session Five: Dictionaries, Files, Exceptions"
             >previous</a> |</li>
        <li><a href="index.html">F2 Python</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Christopher Barker, Cris Ewing.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>